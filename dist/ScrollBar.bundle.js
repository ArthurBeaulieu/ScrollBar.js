/*! For license information please see ScrollBar.bundle.js.LICENSE.txt */
!function(){"use strict";var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,r(a.key),a)}}function r(t){var i=function(t){if("object"!=e(t)||!t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var r=i.call(t,"string");if("object"!=e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(i)?i:i+""}var a=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._target=e.target,this._horizontal=e.horizontal||!1,this._minSize=e.minSize||15,this._style=e.style||{},this._wrapper={},this._container={},this._bar={},this._scrollRatio=0,this._lastPageX=0,this._lastPageY=0,this._init().then(this._events.bind(this)).then(this._updateScrollBar.bind(this)).catch(function(t){return console.error(t)})},(e=[{key:"_init",value:function(){var t=this;return new Promise(function(e){var i=document.createDocumentFragment();for(t._target.classList.add("scrollbar-container"),t._wrapper=document.createElement("DIV"),t._wrapper.setAttribute("class","scrollbar-wrapper"),t._container=document.createElement("DIV"),!0===t._horizontal?t._container.setAttribute("class","horizontal-scrollbar-content"):t._container.setAttribute("class","scrollbar-content");t._target.firstChild;)t._container.appendChild(t._target.firstChild);t._wrapper.appendChild(t._container),i.appendChild(t._wrapper),t._target.appendChild(i),!0===t._horizontal?t._target.insertAdjacentHTML("beforeend",'<div class="horizontal-scroll"></div>'):t._target.insertAdjacentHTML("beforeend",'<div class="scroll"></div>'),t._bar=t._target.lastChild,t.style=t._style,e()})}},{key:"_events",value:function(){var t=this;return new Promise(function(e){t._drag=t._drag.bind(t),t._stopDrag=t._stopDrag.bind(t),window.addEventListener("resize",t._updateScrollBar.bind(t)),t._container.addEventListener("scroll",t._updateScrollBar.bind(t)),t._container.addEventListener("mouseenter",t._mouseEnter.bind(t)),t._container.addEventListener("mouseleave",t._mouseLeave.bind(t)),t._bar.addEventListener("mousedown",t._barClicked.bind(t)),e()})}},{key:"_barClicked",value:function(t){var e=this;!0===this._horizontal?this._lastPageX=t.pageX:this._lastPageY=t.pageY,this._bar.classList.add("scrollbar-grabbed"),document.body.classList.add("scrollbar-grabbed"),requestAnimationFrame(function(){document.addEventListener("mousemove",e._drag),document.addEventListener("mouseup",e._stopDrag)})}},{key:"_drag",value:function(t){var e=this;if(!0===this._horizontal){var i=t.pageX-this._lastPageX;this._lastPageX=t.pageX,requestAnimationFrame(function(){e._container.scrollLeft+=i/e._scrollRatio})}else{var r=t.pageY-this._lastPageY;this._lastPageY=t.pageY,requestAnimationFrame(function(){e._container.scrollTop+=r/e._scrollRatio})}}},{key:"_stopDrag",value:function(){this._bar.classList.remove("scrollbar-grabbed"),document.body.classList.remove("scrollbar-grabbed"),document.removeEventListener("mousemove",this._drag),document.removeEventListener("mouseup",this._stopDrag)}},{key:"_mouseEnter",value:function(t){t.preventDefault(),this._target.classList.add("hovered"),this._updateScrollBar()}},{key:"_mouseLeave",value:function(t){t.preventDefault(),this._target.classList.remove("hovered"),this._updateScrollBar()}},{key:"_updateScrollBar",value:function(){!0===this._horizontal?this._updateHorizontalScroll():this._updateVerticalScroll()}},{key:"_updateHorizontalScroll",value:function(){var t=this,e=this._container.scrollWidth,i=this._container.clientWidth,r=-1*(this._target.clientHeight-this._bar.clientHeight);this._scrollRatio=i/e,requestAnimationFrame(function(){if(t._scrollRatio>=1)t._bar.classList.add("hidden");else{var a=Math.max(100*t._scrollRatio,t._minSize)*i/100,n=t._container.scrollLeft/e*100*i/100;if(Math.max(100*t._scrollRatio,t._minSize)===t._minSize){a=t._minSize<i?t._minSize:i/2;var o=100*t._container.scrollLeft/(e-i);n=(i-a)*((t._container.scrollLeft+o*i/100)/e*100)/100}t._bar.classList.remove("hidden"),t._bar.style.cssText="width: ".concat(a,"px; left: ").concat(n,"px; bottom: ").concat(r,"px;")}})}},{key:"_updateVerticalScroll",value:function(){var t=this,e=this._container.scrollHeight,i=this._container.clientHeight,r=-1*(this._target.clientWidth-this._bar.clientWidth);this._scrollRatio=i/e,requestAnimationFrame(function(){if(t._scrollRatio>=1)t._bar.classList.add("hidden");else{var a=Math.max(100*t._scrollRatio,t._minSize)*i/100,n=t._container.scrollTop/e*100*i/100;if(Math.max(100*t._scrollRatio,t._minSize)===t._minSize){a=t._minSize<i?t._minSize:i/2;var o=100*t._container.scrollTop/(e-i);n=(i-a)*((t._container.scrollTop+o*i/100)/e*100)/100}t._bar.classList.remove("hidden"),t._bar.style.cssText="height: ".concat(a,"px; top: ").concat(n,"px; right: ").concat(r,"px;")}})}},{key:"updateScrollbar",value:function(){this._updateScrollBar()}},{key:"isHidden",value:function(){return this._bar.classList.contains("hidden")}},{key:"style",set:function(t){this._style=t,this._style.color&&this._target.style.setProperty("--scroll-color",this._style.color),this._style.size&&this._target.style.setProperty("--scroll-size",this._style.size),this._style.radius&&this._target.style.setProperty("--scroll-radius",this._style.radius),this._style.lowOpacity&&this._target.style.setProperty("--scroll-low-opacity",this._style.lowOpacity),this._style.highOpacity&&this._target.style.setProperty("--scroll-high-opacity",this._style.highOpacity),this._style.transitionDuration&&this._target.style.setProperty("--scroll-transition-duration",this._style.transitionDuration)}}])&&i(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e}();t.default=a,window.ScrollBar=t.default}();